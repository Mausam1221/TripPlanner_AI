import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with Hote Name, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time t travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON formatted travel plan for a couple's budget-friendly 3-day trip to Las Vegas, with hotel options and a detailed itinerary.  I've tried to balance cost with enjoyment and iconic Vegas experiences.\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap\",\n    \"travelers\": \"Couple\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night (depending on season and availability)\",\n      \"hotelImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/92/Circus_Circus_Las_Vegas_2012.jpg/1280px-Circus_Circus_Las_Vegas_2012.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1262,\n        \"longitude\": -115.1662\n      },\n      \"rating\": 3.5,\n      \"description\": \"An iconic, family-friendly hotel on the Strip with affordable rates, a circus, and Adventuredome Theme Park.  Rooms are basic, but clean and functional. Great for budget travelers who want to be on the Strip.\",\n        \"amenities\": [\"Pool\", \"Casino\", \"Free Parking\", \"On-site Restaurants\", \"Adventuredome Theme Park\"]\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $90 per night\",\n      \"hotelImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b5/Excalibur_Hotel_and_Casino_Las_Vegas_2015.jpg/1280px-Excalibur_Hotel_and_Casino_Las_Vegas_2015.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0984,\n        \"longitude\": -115.1743\n      },\n      \"rating\": 4.0,\n      \"description\": \"A medieval-themed hotel at the south end of the Strip.  Offers affordable rooms, a variety of dining options, and entertainment. A good option for those who want a fun atmosphere without breaking the bank.\",\n      \"amenities\": [\"Pool\", \"Casino\", \"Free Parking\", \"On-site Restaurants\", \"Tournament of Kings Dinner Show\"]\n    },\n    {\n      \"hotelName\": \"Luxor Hotel & Casino\",\n      \"hotelAddress\": \"3900 S Las Vegas Blvd, Las Vegas, NV 89119\",\n      \"price\": \"$60 - $100 per night\",\n      \"hotelImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/af/Luxor_Hotel_%26_Casino_Las_Vegas.jpg/1280px-Luxor_Hotel_%26_Casino_Las_Vegas.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0956,\n        \"longitude\": -115.1759\n      },\n      \"rating\": 4.0,\n      \"description\": \"A pyramid-shaped hotel with unique rooms and attractions.  Offers a variety of dining and entertainment options.  A good choice for those looking for a memorable experience at a reasonable price.\",\n       \"amenities\": [\"Pool\", \"Casino\", \"Free Parking\", \"On-site Restaurants\", \"Titanic: The Artifact Exhibition\", \"Bodies...The Exhibition\"]\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip (South End) & Free Attractions\",\n      \"bestTimeToVisit\": \"Afternoon/Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Welcome to Fabulous Las Vegas Sign\",\n          \"placeDetails\": \"The iconic Las Vegas sign.  A must-do for any visitor.  Go early to avoid crowds.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/79/Las_Vegas_Welcome_Sign_at_Night.jpg/1280px-Las_Vegas_Welcome_Sign_at_Night.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0826,\n            \"longitude\": -115.1733\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Taxi/RideShare/Bus from Hotel (15-30 mins depending on location)\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"A stunning free display of flowers and plants that changes seasonally.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Bellagio_Conservatory_Christmas_2012.jpg/1280px-Bellagio_Conservatory_Christmas_2012.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1757\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Walk/Bus from previous location (30-45 mins/15-20 mins)\",\n          \"bestTimeToVisit\": \"Anytime during opening hours (check website for schedule).\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"Spectacular water show set to music.  Runs frequently in the afternoon and evening.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Bellagio_fountains_at_night.jpg/1280px-Bellagio_fountains_at_night.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1125,\n            \"longitude\": -115.1742\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Adjacent to Conservatory\",\n          \"bestTimeToVisit\": \"Evening (for the lights)\"\n        },\n        {\n          \"placeName\": \"High Roller Observation Wheel (Optional)\",\n          \"placeDetails\": \"A giant Ferris wheel offering panoramic views of the city.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/10/High_Roller_Observation_Wheel_by_David_Stanley.jpg/1280px-High_Roller_Observation_Wheel_by_David_Stanley.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1163,\n            \"longitude\": -115.1685\n          },\n          \"ticketPricing\": \"$25-37 (can vary based on timing)\",\n          \"timeToTravel\": \"Bus/RideShare from Bellagio (20-30 mins)\",\n          \"bestTimeToVisit\": \"Evening (for the lights)\"\n        },\n                {\n          \"placeName\": \"Free drinks at Casino\",\n          \"placeDetails\": \"Free drinks at Casino if you are playing\",\n          \"placeImageUrl\": \"https://media.istockphoto.com/id/172951455/photo/female-gambler-at-casino.jpg?s=612x612&w=0&k=20&c=s9c55PCLV_7oN_4L4y0L54Qh_YkLq8tV-R69YgYv6y4=\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1163,\n            \"longitude\": -115.1685\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Adjacent to Bellagio Fountains\",\n          \"bestTimeToVisit\": \"Anytime during the opening hours\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas (Fremont Street Experience)\",\n      \"bestTimeToVisit\": \"Evening/Night\",\n      \"places\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall with a huge LED canopy showing light shows.  Live music and street performers.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Fremont_Street_Experience_2014.jpg/1280px-Fremont_Street_Experience_2014.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1423\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Bus/RideShare from the Strip (30-45 mins)\",\n          \"bestTimeToVisit\": \"Evening/Night (for light shows and atmosphere)\"\n        },\n        {\n          \"placeName\": \"SlotZilla Zip Line\",\n          \"placeDetails\": \"Fly over Fremont Street on a zip line.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/25/SlotZilla_Zip_Line_Fremont_Street.jpg/1280px-SlotZilla_Zip_Line_Fremont_Street.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1423\n          },\n          \"ticketPricing\": \"$36-$56 (depending on the level)\",\n          \"timeToTravel\": \"Located on Fremont Street\",\n          \"bestTimeToVisit\": \"Evening\"\n        },\n        {\n          \"placeName\": \"Mob Museum\",\n          \"placeDetails\": \"The National Museum of Organized Crime & Law Enforcement.  Interesting exhibits on the history of the Mob.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/5/59/The_Mob_Museum_Las_Vegas.jpg/1280px-The_Mob_Museum_Las_Vegas.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1714,\n            \"longitude\": -115.1441\n          },\n          \"ticketPricing\": \"$30-$40\",\n          \"timeToTravel\": \"Walking distance from Fremont Street.\",\n          \"bestTimeToVisit\": \"Daytime\"\n        },\n        {\n          \"placeName\": \"Heart Attack Grill\",\n          \"placeDetails\": \"A novelty restaurant with extremely unhealthy (but fun) food.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/Heart_Attack_Grill_2015.jpg/1280px-Heart_Attack_Grill_2015.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1709,\n            \"longitude\": -115.1421\n          },\n          \"ticketPricing\": \"$15-$30 per person\",\n          \"timeToTravel\": \"Located on Fremont Street.\",\n          \"bestTimeToVisit\": \"Lunch/Dinner\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Exploring the Strip (North End) & Departure\",\n      \"bestTimeToVisit\": \"Morning/Afternoon\",\n      \"places\": [\n        {\n          \"placeName\": \"The Venetian & The Palazzo\",\n          \"placeDetails\": \"Explore the canals, shops, and atmosphere of these luxurious hotels.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/Venetian_Las_Vegas_Exterior_1.jpg/1280px-Venetian_Las_Vegas_Exterior_1.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1212,\n            \"longitude\": -115.1740\n          },\n          \"ticketPricing\": \"Free (Gondola rides are extra - ~$36 per person)\",\n          \"timeToTravel\": \"Bus/RideShare from Hotel (20-30 mins)\",\n          \"bestTimeToVisit\": \"Morning/Afternoon (before it gets too crowded)\"\n        },\n        {\n          \"placeName\": \"Eiffel Tower Viewing Deck at Paris Las Vegas (Optional)\",\n          \"placeDetails\": \"A half-scale replica of the Eiffel Tower with a viewing deck.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/96/Eiffel_Tower_Las_Vegas_View.jpg/1280px-Eiffel_Tower_Las_Vegas_View.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1122,\n            \"longitude\": -115.1726\n          },\n          \"ticketPricing\": \"$27-35\",\n          \"timeToTravel\": \"Bus/Walk/RideShare from The Venetian (15-25 mins)\",\n          \"bestTimeToVisit\": \"Afternoon/Sunset\"\n        },\n        {\n          \"placeName\": \"Linq Promenade\",\n          \"placeDetails\": \"Outdoor shopping, dining, and entertainment district.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f3/LINQ_Promenade_2014.jpg/1280px-LINQ_Promenade_2014.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1163,\n            \"longitude\": -115.1685\n          },\n          \"ticketPricing\": \"Free (individual attractions have costs)\",\n          \"timeToTravel\": \"Bus/Walk/RideShare from The Venetian (15-25 mins)\",\n          \"bestTimeToVisit\": \"Afternoon\"\n        },\n        {\n          \"placeName\": \"Departure\",\n          \"placeDetails\": \"Head to the airport for your flight home.\",\n          \"placeImageUrl\": null,\n          \"geoCoordinates\": null,\n          \"ticketPricing\": null,\n          \"timeToTravel\": \"Allow ample time to get to McCarran International Airport (LAS) - 30-60 mins depending on traffic.\"\n        }\n      ]\n    }\n  },\n  \"tipsForSavingMoney\": [\n    \"Travel during the off-season (summer is hot and expensive).\",\n    \"Take advantage of free attractions (Bellagio fountains, botanical garden, Fremont Street Experience).\",\n    \"Use public transportation (the Deuce bus) or ride-sharing services.\",\n    \"Look for happy hour deals on drinks and appetizers.\",\n    \"Eat at affordable restaurants or food courts.\",\n    \"Bring your own snacks and drinks.\",\n    \"Take advantage of free parking at some hotels.\",\n    \"Consider purchasing a Las Vegas Power Pass (if you plan to visit several paid attractions).\",\n     \"Avoid Gambling more\",\n     \"Take Free walking tours for strip and downtown\",\n     \"Visit free concerts on Fremont Street (check Schedule first)\"\n  ]\n}\n```\n\n**Important Notes:**\n\n*   **Prices are estimates:**  Hotel and attraction prices fluctuate greatly depending on the time of year, day of the week, and demand. Check prices and availability before you book.\n*   **Transportation:**  The Deuce bus is a relatively affordable way to get around the Strip and downtown. Ride-sharing services like Uber and Lyft are also options. Walking is possible, but distances can be deceivingly long in the Vegas heat.\n*   **Reservations:** Make reservations for shows and popular restaurants in advance, especially if you are traveling during peak season.\n*   **Hydration:** Drink plenty of water, especially if you're visiting during the summer.\n*   **Safety:** Be aware of your surroundings and take precautions against pickpockets, especially in crowded areas.\n*   **Flexibility:**  This is just a suggestion. Feel free to adjust the itinerary to suit your interests and preferences.\n*   **Deals & Discounts:** Look for discount codes online for shows and attractions.  Some hotels offer package deals that include room and show tickets.\n\nThis comprehensive plan should help you have a fantastic and affordable trip to Las Vegas!  Enjoy!\n"},
          ],
        },
      ],
    });